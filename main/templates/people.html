{% extends "main.html" %}

{% block content %}
<div class="container-fluid px-5">
  <h1 class="mb-4">Manage People</h1>

  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link active" href="#employees" id="manageEmployees"
        onclick="openPeopleTab(event, 'Employees');">Employees</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#consultants" onclick="openPeopleTab(event, 'Consultants');">Consultants</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#contractors" onclick="openPeopleTab(event, 'Contractors')">Contractors</a>
    </li>
  </ul>
  <form action="/people/employee/create" method="POST" autocomplete="off">
    <div id="Employees" class="tabcontent">
      <div class="d-flex flex-column bd-highlight">
        <div class="pt-2 bd-highlight">
          <a href="#" id="addEmployeeButton"
            onclick="toggleForm(event, 'EmployeeForm');fetchProfiles(event, 'Employees');" style="float:right;"><button
              class="btn btn-outline-primary btn-sm" type="button">Add Employee</button></a>
        </div>
        <div class="bd-highlight">
          <div id="EmployeeForm" class="EmployeeForm">
            <div class="card containter-fluid mb-3">
              <div class="card-header">
                Add Employee
              </div>
              <div class="card-body">
                <div class="form-group d-flex flex-row justify-content-between mb-2">
                  <div class="col-xs-2">
                    <label for="salutation">Salutation</label>
                    <select class="form-control" id="salutation">
                      <option>Mr</option>
                      <option>Mrs</option>
                      <option>Ms</option>
                    </select>
                  </div>
                  <div class="col-xs-3 flex-grow-1 ml-4">
                    <label for="first_name">First Name</label>
                    <input class="form-control" id="first_name" type="text">
                  </div>
                  <div class="col-xs-4 flex-grow-1 ml-4">
                    <label for="last_name">Last Name</label>
                    <input class="form-control" id="last_name" type="text">
                  </div>
                </div>
                <div class="form-group d-flex flex-row justify-content-between mb-2">
                  <div class="col-xs-3 flex-grow-1 mr-4">
                    <label for="email">Email Address</label>
                    <input class="form-control" id="email" type="text">
                  </div>
                  <div class="col-xs-3">
                    <label for="validationCustomUsername">Username</label>
                    <div class="input-group">
                      <span class="input-group-text" id="inputGroupPrepend">@</span>
                      <input type="text" class="form-control" id="username" aria-describedby="inputGroupPrepend">
                    </div>
                  </div>
                </div>
                <div class="form-group d-flex flex-row justify-content-between mb-2">
                  <div class="col-xs-3 flex-grow-1 mr-4">
                    <label for="validationCustomUsername">Phone Number</label>
                    <div class="input-group">
                      <input type="text" class="form-control" id="phone_number" aria-describedby="inputGroupPrepend">
                    </div>
                  </div>
                  <div class="col-xs-3 flex-grow-1 mr-4">
                    <label for="email">Profile</label>
                    <select class="form-control" id="profile_id">
                    </select>
                  </div>
                  <div class="col-xs-3">
                    <label for="validationCustomUsername">Tier</label>
                    <div class="input-group">
                      <input type="text" class="form-control" id="user_role" aria-describedby="inputGroupPrepend">
                    </div>
                  </div>
                </div>
                <div class="form-group d-flex flex-row justify-content-between mb-2">
                  <div class="col-xs-3 flex-grow-1 mr-4">
                    <label for="validationCustomUsername">Address Line</label>
                    <div class="input-group">
                      <input type="text" class="form-control" id="addr_line" aria-describedby="inputGroupPrepend">
                    </div>
                  </div>
                </div>
                <div class="form-group d-flex flex-row justify-content-between mb-2">
                  <div class="col-xs-3 flex-grow-1 mr-4">
                    <label for="validationCustomUsername">City</label>
                    <div class="input-group">
                      <input type="text" class="form-control" id="addr_city" aria-describedby="inputGroupPrepend">
                    </div>
                  </div>
                  <div class="col-xs-3 flex-grow-1 mr-4">
                    <label for="validationCustomUsername">Country</label>
                    <div class="input-group">
                      <input type="text" class="form-control" id="addr_county" aria-describedby="inputGroupPrepend">
                    </div>
                  </div>
                  <div class="col-xs-3">
                    <label for="validationCustomUsername">Postal Code</label>
                    <div class="input-group">
                      <input type="text" class="form-control" id="addr_zip" aria-describedby="inputGroupPrepend">
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <button type="submit" class="btn btn-primary">Create Employee</button>
              </div>
            </div>
          </div>
        </div>
      </div>
  </form>
  {% if "employees" in response %}

  <table class="table table-sm table-hover table-bordered shadow-sm text-center mt-2">
    <thead>
      <tr class="text-center" style="background-color:#D6EAF8">
        <th scope="col" colspan="2" style="width:10%">Action</th>
        <th scope="col">Username</th>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Email</th>
      </tr>
    </thead>
    <tbody>
      {% for item in response["employees"] %}
      <tr>
        <td class="text-center"><a href="#edit"><i class="fa-solid fa-edit fa-flip-horizontal "></i></a></td>
        <td class="text-center"><a href="#delete"><i class="fa-solid fa-trash fa-flip-horizontal"></i></a></td>
        <td>{{item.username}}</td>
        <td>{{item.first_name}}</td>
        <td>{{item.last_name}}</td>
        <td>{{item.email}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endif %}
</div>

<div id="Consultants" class="tabcontent">
  <h3>Paris</h3>
  <p>Paris is the capital of France.</p>
</div>

<div id="Contractors" class="tabcontent">
  <h3>Tokyo</h3>
  <p>Tokyo is the capital of Japan.</p>
</div>
</div>
{% endblock content %}